// Generated by CoffeeScript 1.6.3
(function() {
  var client,
    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  client = angular.module('client', []);

  client.controller('MainCtrl', function($scope, $http) {
    var _this = this;
    $scope.palettes = {};
    $scope.user = {};
    $scope.tmpToggle = 0;
    $scope.toggle = 1;
    $scope.getAccount = function(user) {
      var _this = this;
      $scope.toggle = !$scope.toggle;
      return $http.post('/getAccount', user).success(function(resp) {
        return $scope.palettes = resp;
      });
    };
    $scope.getAccount({
      username: 'dummy',
      apiKey: 'dummy'
    });
    $scope.inputlessFeatures = ['all'];
    $scope.resourceClick = function(productName, resourceName, feature, data) {
      var _this = this;
      if (__indexOf.call($scope.inputlessFeatures, feature) >= 0) {
        return $http.post('/' + productName + '/' + resourceName + '/' + feature, data).success(function(resp) {
          return $scope.palettes[productName].resources[resourceName].models = resp;
        });
      } else {
        console.log('feature:', feature);
        $scope.tmpToggle = !$scope.tmpToggle;
        return $scope.palettes[productName].resources[resourceName].resourceFeatures[feature].show = !$scope.palettes[productName].resources[resourceName].resourceFeatures[feature].show;
      }
    };
    $scope.resourceSubmit = function() {
      return $http.post('/' + productName + '/' + resourceName + '/' + feature, data).success(function(resp) {
        return $scope.palettes[productName].models = resp;
      });
    };
    return $scope.getModelDetails = function() {};
  });

}).call(this);
